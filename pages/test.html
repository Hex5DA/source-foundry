<!-- @layout "default.html" -->

<h1>TODOs</h1>

<ul id="todos-cont">
    <p id="todo">[job]</p>
</ul>

<script src="/public/falcon.js"></script>
<script>
window.$event("load").on = () => {
    let obj = { a: 100, b: { c: "hey" } };
    let st = $createState(obj);

    st.a++;

    st.b.addEventListener("$change", () => console.log("changed b", st.b));
    console.log("changing b")
    st.b = { c: 1 };

    console.log();
    st.b.c.addEventListener("$change", () => console.log("changed c", st.b.c));
    console.log("changing c")
    st.b.c = "hey modified";

    console.log("\nfinal state:", st);
}
</script>
